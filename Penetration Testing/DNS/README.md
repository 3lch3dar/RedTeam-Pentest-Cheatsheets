# DNS stuff

***Tips***:
- If you found tcp/53 port open = means that you should check for DNS transfer. Usually DNS requests using only udp/53

## DNS Enumeration, Lookups

```bash
whois domain.name
dig {a|txt|ns|mx} domain.name
dig {a|txt|ns|mx} domain.com @ns1.domain.name
host -t {a|txt|ns|mx} domain.name
host -a domain.name
nslookup -> set type=any -> domain.name
```

### Fierce
**URL**: https://github.com/mschwager/fierce  
Fierce is a semi-lightweight scanner that helps locate non-contiguous IP space and hostnames against specified domains. It's really meant as a pre-cursor to nmap, unicornscan, nessus, nikto, etc, since all of those require that you already know what IP space you are looking for. This does not perform exploitation and does not scan the whole internet indiscriminately. It is meant specifically to locate likely targets both inside and outside a corporate network. Because it uses DNS primarily you will often find mis-configured networks that leak internal address space. That's especially useful in targeted malware.  
```bash
fierce -dns domain.name
```

### DNSRecon
**URL**: https://github.com/darkoperator/dnsrecon  
This script provides the ability to perform:
- Check all NS Records for Zone Transfers.
- Enumerate General DNS Records for a given Domain (MX, SOA, NS, A, AAAA, SPF and TXT).
- Perform common SRV Record Enumeration.
- Top Level Domain (TLD) Expansion.
- Check for Wildcard Resolution.
- Brute Force subdomain and host A and AAAA records given a domain and a wordlist.
- Perform a PTR Record lookup for a given IP Range or CIDR.
- Check a DNS Server Cached records for A, AAAA and CNAME Records provided a list of host records in a text file to check.
- Enumerate Common mDNS records in the Local Network
- Enumerate Hosts and Subdomains using Google

```bash
dnsrecon -r 127.0.0.1/24 -n <ip>
```

### dnsenum
Multithreaded perl script to enumerate DNS information of a domain and to discover non-contiguous ip blocks.
```bash
dnsenum domain.name
```


## DNS Zone tranfsers

```bash
dig axfr @<ip>  
dig axfr friendzoneportal.red @<ip>
host -l domain.name <ip>
dnsrecon -d domain.name -t axfr @<ip>
```
## IPPSec related video
**Bank**  
https://www.youtube.com/watch?v=JRPWFSzFaG0&t=75s
